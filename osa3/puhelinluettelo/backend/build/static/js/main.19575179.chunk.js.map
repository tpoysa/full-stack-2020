{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Phonebook.js","services/persons.js","components/Notification.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","filter","handler","value","onChange","PersonForm","props","onSubmit","person","nameInput","nameHandler","numberInput","numberHandler","type","Person","remove","name","number","onClick","id","Phonebook","persons","namesToShow","toLowerCase","includes","map","baseUrl","personService","getAll","axios","get","then","response","data","create","newObj","post","delete","update","put","Notification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","catch","error","console","log","successMsg","str","setTimeout","errorMsg","checkName","element","event","target","preventDefault","some","window","confirm","existingPerson","personObject","updatedPerson","returnedPerson","concat","removedPerson","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oLAQeA,EANA,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,QACrB,OACA,qDAAuB,uBAAOC,MAAOF,EAAQG,SAAUF,QCU5CG,EAZI,SAACC,GAChB,OACI,uBAAMC,SAAUD,EAAME,OAAtB,UACA,yCAAW,uBAAOL,MAAOG,EAAMG,UAAWL,SAAUE,EAAMI,iBAC1D,2CAAa,uBAAOP,MAAOG,EAAMK,YAAaP,SAAUE,EAAMM,mBAC9D,8BACE,wBAAQC,KAAK,SAAb,uBCAKC,EANA,SAAC,GAAsB,IAArBN,EAAoB,EAApBA,OAAQO,EAAY,EAAZA,OACrB,OACI,+BAAKP,EAAOQ,KAAZ,IAAmBR,EAAOS,OAA1B,IAAkC,wBAAQC,QAAS,kBAAMH,EAAOP,EAAOW,GAAIX,EAAOQ,OAAhD,wBCW3BI,EAZG,SAAC,GAA+B,IAA9BC,EAA6B,EAA7BA,QAASpB,EAAoB,EAApBA,OAAQc,EAAY,EAAZA,OAE3BO,EAAyB,KAAXrB,EACpBoB,EAAUA,EAAQpB,QAAO,SAAAO,GAAM,OAAIA,EAAOQ,KAAKO,cAAcC,SAASvB,EAAOsB,kBAE7E,OACI,6BACKD,EAAYG,KAAI,SAAAjB,GAAM,OAAI,cAAC,EAAD,CAA0BA,OAAQA,EAAQO,OAAQA,GAArCP,EAAOQ,Y,gBCNrDU,EAAU,eAqBDC,EAFO,CAAEC,OAjBT,WACX,OAAOC,IAAMC,IAAIJ,GAASK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAgBvBC,OAblB,SAAAC,GACX,OAAON,IAAMO,KAAKV,EAASS,GAAQJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAYxBlB,OAT1B,SAAAI,GACX,OAAOU,IAAMQ,OAAN,UAAgBX,EAAhB,YAA2BP,IAAMY,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQrBK,OALlC,SAACnB,EAAIgB,GAChB,OAAON,IAAMU,IAAN,UAAab,EAAb,YAAwBP,GAAMgB,GAAQJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UCP5DO,EAZM,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAAS5B,EAAW,EAAXA,KAC7B,OAAgB,OAAZ4B,EACK,KAIP,qBAAKC,UAAS,UAAK7B,GAAnB,SACG4B,KCoJME,EAnJH,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACRvB,EADQ,KACCwB,EADD,OAEgBD,mBAAS,IAFzB,mBAERE,EAFQ,KAECC,EAFD,OAGoBH,mBAAS,IAH7B,mBAGRI,EAHQ,KAGGC,EAHH,OAIoBL,mBAAS,IAJ7B,mBAIRM,EAJQ,KAIGC,EAJH,OAK4BP,mBAAS,MALrC,mBAKTQ,EALS,KAKOC,EALP,OAMwBT,mBAAS,MANjC,mBAMTU,EANS,KAMKC,EANL,KAQhBC,qBAAU,WACR7B,EACGC,SACEG,MAAK,SAAAE,GACNY,EAAWZ,MAEZwB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,QAEf,IAEH,IAAMG,EAAa,SAACC,GAClBT,EACES,GAEFC,YAAW,WACTV,EAAkB,QACjB,MAGCW,EAAW,SAACF,GAChBP,EACEO,GAEFC,YAAW,WACTR,EAAgB,QACf,MAGCU,EAAY,SAACC,GAAD,OAAaA,EAAQlD,KAAKO,gBAAkBuB,EAAQvB,eA8FtE,OACE,gCACE,2CACA,cAAC,EAAD,CAAckB,QAASW,EAAgBvC,KAAM,YAC7C,cAAC,EAAD,CAAc4B,QAASa,EAAczC,KAAM,UAC3C,cAAC,EAAD,CAAQZ,OAAQiD,EAAWhD,QAPJ,SAACiE,GAAD,OAAYhB,EAAagB,EAAMC,OAAOjE,UAQ7D,mDACA,cAAC,EAAD,CAAYK,OAnGE,SAAC2D,GAGjB,GAFAA,EAAME,iBAEFhD,EAAQiD,KAAKL,GAEf,GAAIM,OAAOC,QAAP,UAAkB1B,EAAlB,+EAAwG,CAE1G,IAAI2B,EAAiB,GAEfC,EAAe,CACnB1D,KAAM8B,EACN7B,OAAQ+B,GAGVrB,EACGC,SACEG,MAAK,SAAAE,GACLwC,EAAiBxC,EAAKhC,OAAOgE,GAC7BtC,EACEW,OAAOmC,EAAe,GAAGtD,GAAIuD,GAC3B3C,MAAK,SAAA4C,GACJ9B,EAAWxB,EAAQI,KAAI,SAAAjB,GAAM,OAAIA,EAAOW,KAAOwD,EAAcxD,GAAKX,EAASmE,MAC3Ed,EAAW,WAAD,OAAYf,OAEvBW,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZM,EAAS,kBAAD,OAAmBlB,EAAnB,8BACRD,EAAWxB,EAAQpB,QAAO,SAAAO,GAAM,OAAIA,EAAOQ,OAAS8B,YAGzDW,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZM,EAAS,kBAAD,OAAmBlB,EAAnB,8BACRD,EAAWxB,EAAQpB,QAAO,SAAAO,GAAM,OAAIA,EAAOQ,OAAS8B,cAI1DC,EAAW,IACXE,EAAa,QAGZ,CAEL,IAAMyB,EAAe,CACnB1D,KAAM8B,EACN7B,OAAQ+B,GAGVrB,EACGO,OAAOwC,GACL3C,MAAK,SAAA6C,GACJ/B,EAAWxB,EAAQwD,OAAOD,IAC1Bf,EAAW,SAAD,OAAUe,EAAe5D,UAEpCyC,OAAM,SAAAC,GAELM,EAASN,EAAM1B,SAASC,KAAKQ,YAGnCM,EAAW,IACXE,EAAa,MAuCoBxC,UAAWqC,EAASnC,YAAaqC,EAChEtC,YAZqB,SAACyD,GAAD,OAAYpB,EAAWoB,EAAMC,OAAOjE,QAY1BS,cAXR,SAACuD,GAAD,OAAYlB,EAAakB,EAAMC,OAAOjE,UAY7D,yCACA,cAAC,EAAD,CAAWkB,QAASA,EAASpB,OAAQiD,EAAWnC,OArC9B,SAACI,EAAIH,GAErBuD,OAAOC,QAAP,iBAAyBxD,EAAzB,OAEFW,EACGZ,OAAOI,GACLY,MAAK,SAAA+C,GACJjB,EAAW,WAAD,OAAY7C,IACtBW,EACGC,SACEG,MAAK,SAAAE,GACHY,EAAWZ,MACbwB,OAAM,SAAAC,GAAUC,QAAQC,IAAR,UAAeF,EAAf,4BAAwC1C,UAE9DyC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZM,EAAS,kBAAD,OAAmBhD,EAAnB,wCCpHL+D,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBlD,MAAK,YAAkD,IAA/CmD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.19575179.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, handler}) => {\r\n    return(\r\n    <div>filter shown with <input value={filter} onChange={handler}/></div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.person}>\r\n        <div>name: <input value={props.nameInput} onChange={props.nameHandler}/></div>\r\n        <div>number: <input value={props.numberInput} onChange={props.numberHandler}/></div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({person, remove}) => {\r\n    return (\r\n        <li>{person.name} {person.number} <button onClick={() => remove(person.id, person.name)}>delete</button></li>\r\n      )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Phonebook = ({persons, filter, remove}) => {\r\n    \r\n    const namesToShow = filter === '' ?\r\n    persons : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n    return (\r\n        <ul>\r\n            {namesToShow.map(person => <Person key={person.name} person={person} remove={remove}/>)}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Phonebook","import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3001/persons'\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\n//const baseUrl = 'https://young-temple-73199.herokuapp.com/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl).then(response => response.data)\r\n}\r\n\r\nconst create = newObj => {\r\n    return axios.post(baseUrl, newObj).then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObj) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObj).then(response => response.data)\r\n}\r\n\r\n\r\nconst personService = { getAll , create, remove, update }\r\n\r\nexport default personService","const Notification = ({ message, type }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className={`${type}`}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Phonebook from './components/Phonebook'\nimport personService from \"./services/persons\";\nimport Notification from './components/Notification';\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(data => {\n        setPersons(data)\n      })\n      .catch(error => {\n        console.log(error)\n      })\n  }, [])\n\n  const successMsg = (str) => {\n    setSuccessMessage(\n      str\n    )\n    setTimeout(() => {\n      setSuccessMessage(null)\n    }, 5000)\n  }\n\n  const errorMsg = (str) => {\n    setErrorMessage(\n      str\n    )\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const checkName = (element) => element.name.toLowerCase() === newName.toLowerCase()\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.some(checkName)) {\n\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n\n        let existingPerson = []\n\n        const personObject = {\n          name: newName,\n          number: newNumber\n        }\n\n        personService\n          .getAll()\n            .then(data => {\n             existingPerson = data.filter(checkName)\n             personService\n              .update(existingPerson[0].id, personObject)\n                .then(updatedPerson => {\n                  setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson))\n                  successMsg(`Updated ${newName}`)\n                })\n                .catch(error => {\n                  console.log(error)\n                  errorMsg(`Information of ${newName} has already been removed`)\n                  setPersons(persons.filter(person => person.name !== newName))\n                })\n            })\n            .catch(error => {\n              console.log(error)\n              errorMsg(`Information of ${newName} has already been removed`)\n              setPersons(persons.filter(person => person.name !== newName))\n            })\n      }\n      else {\n        setNewName('')\n        setNewNumber('')\n      }\n    }\n    else {\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    personService\n      .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          successMsg(`Added ${returnedPerson.name}`)\n        })\n        .catch(error => {\n          //alert(`error adding ${personObject.name}`)\n          errorMsg(error.response.data.message)\n        })\n\n    setNewName('')\n    setNewNumber('')\n\n    }\n}\n\n   const removePerson = (id, name) => {\n\n    if (window.confirm(`Delete ${name}?`)) {\n      \n      personService\n        .remove(id)\n          .then(removedPerson => {\n            successMsg(`Removed ${name}`)\n            personService\n              .getAll()\n                .then(data => \n                  {setPersons(data)})\n                .catch(error => {console.log(`${error}, error deleting ${name}`)})\n          })\n          .catch(error => {\n            console.log(error)\n            errorMsg(`Information of ${name} has already been removed`)\n          })\n    }\n\n  }\n\n\n  const handleNameChange = (event) => (setNewName(event.target.value))\n  const handleNumberChange = (event) => (setNewNumber(event.target.value))\n  const handleFilterChange = (event) => (setNewFilter(event.target.value))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} type={\"success\"}/>\n      <Notification message={errorMessage} type={\"error\"}/>\n      <Filter filter={newFilter} handler={handleFilterChange}/>\n      <h3>Add a new contact</h3>\n      <PersonForm person={addPerson} nameInput={newName} numberInput={newNumber}\n      nameHandler={handleNameChange} numberHandler={handleNumberChange}/>\n      <h3>Numbers</h3>\n      <Phonebook persons={persons} filter={newFilter} remove={removePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}